<div
  class="max-w-2xl mx-auto my-10 p-6 bg-white dark:bg-gray-800 shadow rounded"
>
  <h1 class="text-2xl font-bold mb-6 text-white">Personal Loan Request</h1>
  <div
    *ngIf="errorMessage"
    class="mb-4 px-4 py-2 rounded bg-red-100 text-red-700 border border-red-400 dark:bg-red-800 dark:text-red-100"
  >
    {{ errorMessage }}
  </div>
  <div
    *ngIf="successMessage"
    class="mb-4 px-4 py-2 rounded bg-green-100 text-green-700 border border-green-400 dark:bg-green-800 dark:text-green-100"
  >
    {{ successMessage }}
  </div>
  <form
    [formGroup]="personalLoanForm"
    (ngSubmit)="submitForm()"
    class="space-y-4"
  >
    <div>
      <label class="block mb-1 font-medium text-white">Full Name</label>
      <input
        formControlName="fullName"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white disabled:opacity-50 disabled:cursor-not-allowed"
      />
      <div
        *ngIf="
          personalLoanForm.get('fullName')?.invalid &&
          personalLoanForm.get('fullName')?.touched
        "
        class="text-red-500 text-sm"
      >
        Full Name is required.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium text-white">Loan Amount (Rs)</label>
      <input
        formControlName="amount"
        type="number"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white"
      />
      <div
        *ngIf="
          personalLoanForm.get('amount')?.invalid &&
          personalLoanForm.get('amount')?.touched
        "
        class="text-red-500 text-sm"
      >
        Enter an amount of at least Rs.1,000.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium text-white">Loan Term (years)</label>
      <select
        formControlName="term"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white"
      >
        <option value="">Select Term</option>
        <option value="10">5 Years</option>
        <option value="10">10 Years</option>
        <option value="15">15 Years</option>
        <option value="20">20 Years</option>
        <option value="30">30 Years</option>
      </select>
      <div
        *ngIf="
          personalLoanForm.get('term')?.invalid &&
          personalLoanForm.get('term')?.touched
        "
        class="text-red-500 text-sm"
      >
        Please select a loan term.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium text-white">Purpose</label>
      <textarea
        formControlName="purpose"
        rows="3"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white"
      ></textarea>
      <div
        *ngIf="
          personalLoanForm.get('purpose')?.invalid &&
          personalLoanForm.get('purpose')?.touched
        "
        class="text-red-500 text-sm"
      >
        Purpose is required.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium text-white"
        >Annual Income (Rs)</label
      >
      <input
        formControlName="annualIncome"
        type="number"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white"
      />
      <div
        *ngIf="
          personalLoanForm.get('annualIncome')?.invalid &&
          personalLoanForm.get('annualIncome')?.touched
        "
        class="text-red-500 text-sm"
      >
        Annual income is required.
      </div>
    </div>

    <!-- Working Organisation -->
    <div>
      <label class="block mb-1 font-medium text-white"
        >Working Organisation</label
      >
      <input
        formControlName="workingOrganisation"
        type="text"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white"
      />
      <div
        *ngIf="
          personalLoanForm.get('workingOrganisation')?.invalid &&
          personalLoanForm.get('workingOrganisation')?.touched
        "
        class="text-red-500 text-sm"
      >
        Organisation is required.
      </div>
    </div>

    <!-- Proof of Income -->
    <div>
      <label class="block mb-1 font-medium text-white"
        >Proof of Income (e.g. Salary Slip)</label
      >
      <input
        type="file"
        (change)="getFileAttach($event)"
        accept="application/pdf"
        class="w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 dark:border-gray-600 text-white file:bg-blue-600 file:text-white file:border-none file:px-3 file:py-2 file:rounded file:cursor-pointer"
      />
      <div *ngIf="proofOfWorkFile === null" class="text-red-500 text-sm">
        Proof of income is required.
      </div>
    </div>

    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 cursor-pointer"
    >
      Submit Request
    </button>
  </form>
</div>
